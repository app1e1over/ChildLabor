var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=e.parcelRequirec149;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequirec149=o);var a=o("aAUMt"),n=o("13v5H"),i=o("7O1Fl");a=o("aAUMt");document.querySelector(".recipe-container");const c=document.querySelector(".filters-list"),l=document.querySelector(".favorites-container"),s=JSON.parse(localStorage.getItem("Favorites"))||[];var d;function u(e,t){let r=e.closest(".recipe-card-container").dataset.recipe,o=JSON.parse(localStorage.getItem("id"))||[];if(e.closest(".heart-button").classList.contains("add")){document.querySelectorAll(".recipe-card-container").forEach((t=>{o.forEach((r=>{t.dataset.recipe==r&&e.closest(".heart-button").classList.remove("add")}))})),o=o.filter((e=>e!=r)),localStorage.setItem("id",JSON.stringify(o)),s=s.filter((e=>e._id!=r)),console.log("delete")}else t.forEach(((a,n)=>{a._id==r&&(s.push(t[n]),o.push(r)),localStorage.setItem("id",JSON.stringify(o)),e.closest(".heart-button").classList.add("add")})),console.log("add");localStorage.setItem("Favorites",JSON.stringify(s)),f()}function f(){const e=document.querySelectorAll(".recipe-card-container");let t=JSON.parse(localStorage.getItem("id"));t&&e.forEach((e=>{t.forEach((t=>{e.dataset.recipe==t&&e.querySelector(".heart-button").classList.add("add")}))}))}function g(e){return e.map((({category:e})=>e)).filter(((e,t,r)=>r.indexOf(e)===t)).sort().map((e=>`<li><button class="filters-btn" type="button" data-id="${e}">${e}</button></li>`)).join("")}d=s,l.addEventListener("click",(e=>{"svg"!=e.target.nodeName&&"path"!=e.target.nodeName||(u(e.target,d),function(){s&&s.length?(c.innerHTML='<li><button class="filters-btn" type="button" data-id="All">All categories</button></li>',g(s),c.insertAdjacentHTML("beforeend",g(s))):c.innerHTML="";const e=localStorage.getItem("btn-active");e&&document.querySelectorAll(".filters-btn").forEach((t=>{t.dataset.id==e&&((0,a.showByCategory)(t),m(t),f())}))}(),s&&s.length||(l.innerHTML=""))}));let p=!1;function m(e){document.querySelectorAll(".filters-btn").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),localStorage.setItem("btn-active",e.dataset.recipe)}c.addEventListener("mousemove",(function(e){if(!p)return;c.scrollLeft-=e.movementX})),c.addEventListener("mousedown",(function(){p=!0})),document.addEventListener("mouseup",(function(){p=!1})),c.addEventListener("click",(function(e){if("BUTTON"!=e.target.nodeName)return;m(e.target),(0,a.showByCategory)(e.target),f()})),(0,i.StartScrollUp)(),(0,n.startHeader)();try{(0,a.StartFavorites)()}catch{}f();
//# sourceMappingURL=favorites.81dca42a.js.map
