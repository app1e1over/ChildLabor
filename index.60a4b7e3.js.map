{"mappings":"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","sources":["src/partials/RecepieCards/RecepieCards.js"],"sourcesContent":["import axios from 'axios';\nimport { func } from '../PopularRecipes/PopularRecipe';\nfunction padEndRating(subj) {\n  subj = subj.toString();\n  if (subj.length === 1) {\n    return subj + '.0';\n  } else {\n    if (subj.length > 3) {\n      return subj.slice(0, 3);\n    }\n  }\n  return subj;\n}\n\n\nfunction makeStar(active) {\n  let res;\n  if (active) {\n    res= makeSvg(\n      '/sprite.svg#icon-star-active',\n      'recepie-card-star'\n    );\n  }else{\n    res= makeSvg(\n      './image/sprite.svg#icon-unactive-star',\n      'recepie-card-star'\n    );\n  }\n  res.setAttribute(\"width\", \"18\")\n  res.setAttribute(\"height\", \"18\")\n  return res;\n}\n\nfunction makeSvg(src, clas) {\n  let svg = document.createElement('svg');\n\n  svg.className = clas;\n  svg.innerHTML = `<use href=\"${src}\"></use>`;\n  return svg;\n}\n\nexport function Update() {\n  let req = MakeRequestString();\n  console.log(req);\n  let cont = document.querySelector('.recipe-container');\n  axios\n    .get(req)\n    .then(v => v.data.results)\n    .then(recepies => {\n      for (let recipe of recepies) {\n        cont.append(DrawCard(recipe));\n      }\n    });\n}\nfunction DrawCard(recipe) {\n  let cont = document.createElement('div');\n  cont.classList.add('recipe-card-container');\n\n  //creating background image\n  let bg = document.createElement('img');\n  bg.src = recipe.thumb;\n  bg.classList.add('recipe-card-bg');\n\n  let wrap = document.createElement('div');\n  wrap.classList.add('recipe-card-wrap');\n\n  let textContainer = document.createElement('div');\n  textContainer.classList.add('recipe-card-text');\n  let name = document.createElement('p');\n  name.classList.add('recipe-card-title');\n  name.innerText = recipe.title;\n\n  let description = document.createElement('p');\n  description.classList.add('recipe-card-description');\n  description.innerText = recipe.description;\n\n  let like = document.createElement('button');\n  like.classList.add('heart-button');\n  like.classList.add('recipe-card-like-btn');\n  like.innerText = 'like';\n  like.dataset.recipe = JSON.stringify(recipe);\n\n\n  let lowerContainer = document.createElement('div');\n  lowerContainer.classList.add('recipe-card-lower-container');\n\n  let rating = document.createElement('div');\n  rating.classList.add('recipe-card-rating');\n  rating.innerText = padEndRating(recipe.rating);\n  for (let i = 1; i <= 5; i++) {\n    if(Math.floor(recipe.rating-i)>=0){\n      rating.innerHTML+='<svg class=\"recipe-card-star\" width=\"18\" height=\"18\"><path fill=\"#eea10c\" d=\"M13.826 3.262c.686-2.105 3.664-2.105 4.347 0l1.931 5.943a2.292 2.292 0 0 0 2.174 1.582h6.251c2.215 0 3.134 2.834 1.344 4.135l-5.058 3.673a2.287 2.287 0 0 0-.825 2.572l-.005-.016 1.931 5.945c.686 2.105-1.726 3.858-3.518 2.555l-5.056-3.673c-.372-.273-.839-.437-1.344-.437s-.972.164-1.35.441l.006-.004-5.056 3.673c-1.792 1.303-4.201-.45-3.518-2.555l1.931-5.943a2.282 2.282 0 0 0-.823-2.553l-.006-.004-5.058-3.673c-1.79-1.303-.869-4.137 1.344-4.137h6.251a2.287 2.287 0 0 0 2.167-1.561l.005-.016 1.934-5.943z\" style=\"fill:var(--color5, #eea10c)\"/></svg>';\n    }else{\n      rating.innerHTML+='<svg class=\"recipe-card-star\" width=\"18\" height=\"18\"><path fill=\"#f8f8f8\" d=\"M13.826 3.262c.686-2.105 3.664-2.105 4.347 0l1.931 5.943a2.292 2.292 0 0 0 2.174 1.582h6.251c2.215 0 3.134 2.834 1.344 4.135l-5.058 3.673a2.287 2.287 0 0 0-.825 2.572l-.005-.016 1.931 5.945c.686 2.105-1.726 3.858-3.518 2.555l-5.056-3.673c-.372-.273-.839-.437-1.344-.437s-.972.164-1.35.441l.006-.004-5.056 3.673c-1.792 1.303-4.201-.45-3.518-2.555l1.931-5.943a2.282 2.282 0 0 0-.823-2.553l-.006-.004-5.058-3.673c-1.79-1.303-.869-4.137 1.344-4.137h6.251a2.287 2.287 0 0 0 2.167-1.561l.005-.016 1.934-5.943z\" style=\"fill:var(--color5, #f8f8f8)\"/></svg>';\n\n    }\n  }\n  lowerContainer.appendChild(rating);\n\n  let seeRecep = document.createElement('div');\n  seeRecep.classList.add('recipe-card-see-recipe');\n  seeRecep.innerText = 'See recipe';\n  lowerContainer.appendChild(seeRecep);\n\n  cont.appendChild(bg);\n  textContainer.appendChild(name);\n  textContainer.appendChild(description);\n  cont.appendChild(like);\n\n  wrap.appendChild(textContainer);\n  wrap.appendChild(lowerContainer);\n\n  cont.appendChild(wrap);\n  return cont;\n}\n\nfunction MakeRequestString() {\n  const selectIngredients = document.getElementById('selectIng');\n  const selectCountry = document.getElementById('selectCountry');\n  const selectTime = document.getElementById('selectTime');\n  const search = document.querySelector('.search');\n  const category = document.getElementById('categories');\n  const paginator = document.getElementById('pagination');\n  let obj = {\n    category: category,\n    page: paginator,\n    time: selectTime,\n    area: selectCountry,\n    ingredients: selectIngredients,\n  };\n  let first = true;\n\n  let str = 'https://tasty-treats-backend.p.goit.global/api/recipes';\n  for (let key in obj) {\n    if (obj[key] != undefined && obj[key].value != undefined) {\n      if (!first) {\n        str += '&';\n      } else {\n        str += '?';\n        first = false;\n      }\n      str += key + '=' + obj[key].value;\n    }\n  }\n  return str;\n}\nUpdate();\n"],"names":["$dIxxU","parcelRequire","$261ca19d9fc9dc96$var$DrawCard","recipe","cont","document","createElement","classList","add","bg","src","thumb","wrap","textContainer","name","innerText","title","description","like","dataset","JSON","stringify","lowerContainer","subj","rating","toString","length","slice","i","Math","floor","innerHTML","appendChild","seeRecep","req","selectIngredients","getElementById","selectCountry","selectTime","category","querySelector","paginator","obj","page","time","area","ingredients","first","str","key","undefined","value","$261ca19d9fc9dc96$var$MakeRequestString","console","log","default","get","then","v","data","results","recepies","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","append","err","return","$261ca19d9fc9dc96$export$489a84f048b0ef8"],"version":3,"file":"index.60a4b7e3.js.map"}