{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAU,YACVC,EAAgBC,SAASC,cAAc,mBACvCC,EAAgBF,SAASC,cAAc,mBACvCE,EAAcH,SAASC,cAAc,eAOrCG,GANkBJ,SAASC,cAAc,iBAM/B,W,OAAML,EAAAS,QAAMC,IAAK,yD,GAwBK,SAA7BC,EAASC,GAEd,MAAO,iCAEKC,OADcD,EAAKE,IAAI,qBACDD,OAAtBD,EAAKG,QAAQ,WAEnBF,OAF4BD,EAAKI,KAAK,gEAGvCH,OADCD,EAAKK,MAAM,kBAGgCJ,OAF5CD,EAAKM,YAAY,yEAEoCL,OAATD,EAAKE,IAAI,uC,CAhC9DN,IAAUW,MACN,SAAAC,G,IAAGC,EAAID,EAAJC,KACCC,QAAQC,IAAIF,GAQyB,SAAnBA,GACtB,IAEMG,EAFWH,EAAKI,QAEEC,KAAI,SAAAd,G,OAAQD,EAASC,E,IAAOe,KAAK,IAEzDpB,EAAYqB,UAAYJ,C,CAZpBK,CAAiBR,GACjBS,gBAAkBT,EAAKI,O,IAE7BM,MAAMT,QAAQU,MAgDC,IAAbC,EAAiB,GAGrB7B,SAAS8B,iBAAiB,SAAS,SAACC,GAEpC,GADIb,QAAQC,IAAIY,EAAMC,QAClBD,EAAMC,OAAOC,UAAUC,SAAS,gBAAiB,CACjDhB,QAAQC,IAAI,WACZD,QAAQC,IAAIY,EAAMC,OAAOG,YACzBjB,QAAQC,IAAIY,EAAMC,OAAOI,IACzB,IAAMC,EAAQN,EAAMC,OAAOI,GAE3BhC,IAAUW,MACV,SAAAC,G,IAAGC,EAAID,EAAJC,KACCC,QAAQC,IAAIF,EAAKI,SACjB,IAAMiB,EAAYrB,EAAKI,QAAQkB,MAAK,SAAAC,G,OAAUA,EAAO9B,MAAQ2B,C,IAC7DnB,QAAQC,IAAImB,GACZT,EAAeY,KAAKH,GACpBpB,QAAQC,IAAIU,GACZa,aAAaC,QAAQ7C,EAAS8C,KAAKC,UAAUhB,G,IAE/CF,MAAMT,QAAQU,K,MAkBb,WACH,IAAIkB,EAAeF,KAAKG,MAAML,aAAaM,QAAQlD,IAGnD,GAFAoB,QAAQC,IAAI2B,GAEPA,EAAaG,OAAlB,CAKA,IAUM7B,EAVA8B,EAAoBJ,EAAaK,QACnC,SAAAC,G,MAbiB,SAaPA,EAAOC,Q,IAErBnC,QAAQC,IAAI+B,GAON9B,EALU8B,EAKI5B,KAAI,SAAAd,G,OAAQD,EAASC,E,IAAOe,KAAK,IACrDxB,EAAcyB,UAAYJ,C,MAftBlB,EAAc+B,UAAUqB,OAAO,Y,CAkBvCC,G,kBC7HA,E,WAAAC,kBACA,EAAAC,EAAAC,c","sources":["src/partials/Favorites/Favorites.js","src/favorites.js"],"sourcesContent":["import axios from \"axios\";\n//import img from \"./Favorites-img\"\n\nconst FAV_KEY = 'Favorites';\nconst favoritesList = document.querySelector('.favorites-list');\nconst favoritesPlug = document.querySelector('.favorites-plug');\nconst favTestElem = document.querySelector('.test-cards');\nconst heartButtonElem = document.querySelector('.heart-button');\n\n\n//ПОТІМ ВИДАЛИТИ - запит на сервер по всіх рецептах\n//і заповнення тестової розмітки, щоб побачити кнопку сердечко\n\nconst getData = () => axios.get(`https://tasty-treats-backend.p.goit.global/api/recipes`);\ngetData().then(\n    ({ data }) => {\n        console.log(data);\n        renderRecipeCard(data);\n        allRecipesArray = data.results;\n}\n).catch(console.warn);\n\n\n//ПОТІМ ВИДАЛИТИ - імітація - рендер розмітки всіх карток \nfunction renderRecipeCard(data) {\n    const cardsArr = data.results;\n\n    const markup = cardsArr.map(card => DrowCard(card)).join('');\n\n    favTestElem.innerHTML = markup;\n\n    //localStorage.setItem(FAV_KEY, JSON.stringify(cardsArr));\n}\n\n\n\n//ПОТІМ ВИДАЛИТИ - рендер розмітки одної картки\nfunction DrowCard(card) {\n\n    return `\n<div class=\"recipe-card\" id=${card._id}>\n    <img src=\"${card.preview}\" alt=\"${card.tags}\" loading=\"lazy\" />\n    <div class=\"recipe-info\">\n    <h3>${card.title}</h3>\n    <p>${card.description}</p>\n    </div>\n    <button type=\"button\" class=\"heart-button\" id=\"${card._id}\">press heart</button>\n</div>\n    `\n}\n\n//ПОТІМ ВИДАЛИТИ - метод addToFavorites, який додає в обрані:\n// 1. додає рецепт в ЛС (пушить в масив);\n// 2. міняє колір сердечка;\n// 3. не викликає UpdateFavorites, а DrowCard, <> insertAdjasentHTML(beforeend, newCard)\n// function addToFavorites() {\n//     heartButtonElem.classList.add('is-favorite');\n\n//     const selectadRecipe = heartButtonElem.parentNode;\n//     console.log(selectadRecipe);\n// }\n\n//ПОТІМ ВИДАЛИТИ - метод removeFromFavorites, який видаляє з обраних:\n// 1. видаляє рецепт з ЛС;\n// 2. міняє колір сердечка;\n// 3. викликає UpdateFavorites\n\n// СЛУХАЧ ДЛЯ СЕРДЕЧОК\nlet favoritesArray = [] || JSON.parse(localStorage.getItem(FAV_KEY));\n//localStorage.setItem(FAV_KEY, JSON.stringify(favoritesArray));\n\ndocument.addEventListener('click', (event) => {\n    console.log(event.target);\nif (event.target.classList.contains(\"heart-button\")) { // якщо є клас...\n    console.log('you win');\n    console.log(event.target.parentNode);\n    console.log(event.target.id);\n    const favId = event.target.id;\n\n    getData().then(\n    ({ data }) => {\n        console.log(data.results);\n        const favRecipe = data.results.find(result => result._id === favId);\n        console.log(favRecipe);\n        favoritesArray.push(favRecipe);\n        console.log(favoritesArray);\n        localStorage.setItem(FAV_KEY, JSON.stringify(favoritesArray));\n    }\n    ).catch(console.warn);\n    \n    } \n})\n\n//localStorage.removeItem(FAV_KEY);\n\n\n// функція UpdateFavorites():\n// 1. бере інф з ЛС, де зберіг. [ { }-ів ] з рецептами за кл. сл. 'Favorites'\n// 1.1. якщо ЛС пустий: рендер заглушки, ретьорн\n// 2. filter, для кожного рецепта виклик DrowCard\n// 3. innerHTML = renderedCards\n\n\nconst selectedCategory = 'Beef';\n\n// ВИКЛИКАЄТЬСЯ ПРИ СТАРТІ\nexport function UpdateFavorites() {\n    let favoritesArr = JSON.parse(localStorage.getItem(FAV_KEY));\n    console.log(favoritesArr);\n\n    if (!favoritesArr.length) {\n        favoritesPlug.classList.remove('is-hidden');\n        return;\n    }\n\n    const filteredFavorites = favoritesArr.filter(\n        recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredFavorites);\n\n    renderFavorites(filteredFavorites);\n}\n\n//рендер розмітки всіх улюблених рецептів \nfunction renderFavorites(data) {\n    const markup = data.map(card => DrowCard(card)).join('');\n    favoritesList.innerHTML = markup;\n}\n\nUpdateFavorites();","import {UpdateFavorites} from \"./partials/Favorites/Favorites.js\";\nimport { startHeader } from \"./partials/Header/Header.js\";\nimport { StartScrollUp } from \"./partials/ScrollUp/ScrollUp.js\";\n\nStartScrollUp();\nstartHeader();"],"names":["$dIxxU","parcelRequire","$1c0b26b5b4577cbc$var$FAV_KEY","$1c0b26b5b4577cbc$var$favoritesList","document","querySelector","$1c0b26b5b4577cbc$var$favoritesPlug","$1c0b26b5b4577cbc$var$favTestElem","$1c0b26b5b4577cbc$var$getData","default","get","$1c0b26b5b4577cbc$var$DrowCard","card","concat","_id","preview","tags","title","description","then","param","data","console","log","markup","results","map","join","innerHTML","$1c0b26b5b4577cbc$var$renderRecipeCard","allRecipesArray","catch","warn","$1c0b26b5b4577cbc$var$favoritesArray","addEventListener","event","target","classList","contains","parentNode","id","favId","favRecipe","find","result","push","localStorage","setItem","JSON","stringify","favoritesArr","parse","getItem","length","filteredFavorites","filter","recipe","category","remove","$1c0b26b5b4577cbc$export$5312ec80869db145","StartScrollUp","$hpusp","startHeader"],"version":3,"file":"favorites.9305837d.js.map"}