!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequirec149;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequirec149=r);var o,a=r("2ph3T"),i=r("hpusp"),c=r("f2GmJ"),l=(a=r("2ph3T"),document.querySelector(".recipe-container"),document.querySelector(".filters-list")),s=document.querySelector(".favorites-container"),d="Favorites",u=JSON.parse(localStorage.getItem(d))||[];function f(e,t){var n=e.closest(".recipe-card-container").dataset.recipe,r=JSON.parse(localStorage.getItem("id"))||[];e.closest(".heart-button").classList.contains("add")?(document.querySelectorAll(".recipe-card-container").forEach((function(t){r.forEach((function(n){t.dataset.recipe==n&&e.closest(".heart-button").classList.remove("add")}))})),r=r.filter((function(e){return e!=n})),localStorage.setItem("id",JSON.stringify(r)),u=u.filter((function(e){return e._id!=n})),console.log("delete")):(t.forEach((function(o,a){o._id==n&&(u.push(t[a]),r.push(n)),localStorage.setItem("id",JSON.stringify(r)),e.closest(".heart-button").classList.add("add")})),console.log("add"));localStorage.setItem(d,JSON.stringify(u)),g()}function g(){var e=document.querySelectorAll(".recipe-card-container"),t=JSON.parse(localStorage.getItem("id"));t&&e.forEach((function(e){t.forEach((function(t){e.dataset.recipe==t&&e.querySelector(".heart-button").classList.add("add")}))}))}function p(e){return e.map((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t})).sort().map((function(e){return'<li><button class="filters-btn" type="button" data-id="'.concat(e,'">').concat(e,"</button></li>")})).join("")}o=u,s.addEventListener("click",(function(e){"svg"!=e.target.nodeName&&"path"!=e.target.nodeName||(f(e.target,o),function(){u&&u.length?(l.innerHTML='<li><button class="filters-btn" type="button" data-id="All">All categories</button></li>',p(u),l.insertAdjacentHTML("beforeend",p(u))):l.innerHTML="";var e=localStorage.getItem("btn-active");e&&document.querySelectorAll(".filters-btn").forEach((function(t){t.dataset.id==e&&((0,a.showByCategory)(t),v(t),g())}))}(),u&&u.length||(s.innerHTML=""))}));var m=!1;function v(e){document.querySelectorAll(".filters-btn").forEach((function(e){return e.classList.remove("active")})),e.classList.add("active"),localStorage.setItem("btn-active",e.dataset.recipe)}l.addEventListener("mousemove",(function(e){if(!m)return;l.scrollLeft-=e.movementX})),l.addEventListener("mousedown",(function(){m=!0})),document.addEventListener("mouseup",(function(){m=!1})),l.addEventListener("click",(function(e){if("BUTTON"!=e.target.nodeName)return;v(e.target),(0,a.showByCategory)(e.target),g()})),(0,c.StartScrollUp)(),(0,i.startHeader)();try{(0,a.StartFavorites)()}catch(e){}g()}();
//# sourceMappingURL=favorites.8116b197.js.map
