var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=e.parcelRequirec149;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequirec149=o);var a=o("ioLrG"),n=o("8IduK");const i=document.querySelector(".favorites-list"),c=document.querySelector(".favorites-plug"),l=(document.querySelector(".test-cards"),document.querySelector(".fav-picture-thumb"));function s({page:e}){i.innerHTML="",c.classList.add("is-hidden"),l.classList.remove("is-hidden");let t=JSON.parse(localStorage.getItem("Favorites"));if(!t.length)return c.classList.remove("is-hidden"),void(window.matchMedia("(max-width: 767px)").matches&&l.classList.add("is-hidden"));u(t,12*e-12+1,12*e)}function d(e){i.innerHTML="";const t=e;if("All"===t)u(favoritesArr);else{u(favoritesArr.filter((e=>e.category===t)))}}function u(e,t,r){for(let o=t;o<=r;o+=1)i.append((0,a.DrawCard)(e[o]))}var f=o("13v5H"),g=o("7O1Fl");document.querySelector(".recipe-container");const m=document.querySelector(".filters-list"),p=document.querySelector(".favorites-container"),v=JSON.parse(localStorage.getItem("Favorites"))||[];var S;function h(e,t){let r=e.closest(".recipe-card-container").dataset.recipe,o=JSON.parse(localStorage.getItem("id"))||[];if(e.closest(".heart-button").classList.contains("add")){document.querySelectorAll(".recipe-card-container").forEach((t=>{o.forEach((r=>{t.dataset.recipe==r&&e.closest(".heart-button").classList.remove("add")}))})),o=o.filter((e=>e!=r)),localStorage.setItem("id",JSON.stringify(o)),v=v.filter((e=>e._id!=r)),console.log("delete")}else t.forEach(((a,n)=>{a._id==r&&(v.push(t[n]),o.push(r)),localStorage.setItem("id",JSON.stringify(o)),e.closest(".heart-button").classList.add("add")})),console.log("add");localStorage.setItem("Favorites",JSON.stringify(v)),L()}function L(){const e=document.querySelectorAll(".recipe-card-container");let t=JSON.parse(localStorage.getItem("id"));t&&e.forEach((e=>{t.forEach((t=>{e.dataset.recipe==t&&e.querySelector(".heart-button").classList.add("add")}))}))}function y(e){return e.map((({category:e})=>e)).filter(((e,t,r)=>r.indexOf(e)===t)).sort().map((e=>`<li><button class="filters-btn" type="button" data-id="${e}">${e}</button></li>`)).join("")}S=v,p.addEventListener("click",(e=>{"svg"!=e.target.nodeName&&"path"!=e.target.nodeName||(h(e.target,S),function(){v&&v.length?(m.innerHTML='<li><button class="filters-btn" type="button" data-id="All">All categories</button></li>',y(v),m.insertAdjacentHTML("beforeend",y(v))):m.innerHTML="";const e=localStorage.getItem("btn-active");e&&document.querySelectorAll(".filters-btn").forEach((t=>{t.dataset.id==e&&(d(t),q(t),L())}))}(),v&&v.length||(p.innerHTML=""))}));let b=!1;function q(e){document.querySelectorAll(".filters-btn").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),localStorage.setItem("btn-active",e.dataset.recipe)}m.addEventListener("mousemove",(function(e){if(!b)return;m.scrollLeft-=e.movementX})),m.addEventListener("mousedown",(function(){b=!0})),document.addEventListener("mouseup",(function(){b=!1})),m.addEventListener("click",(function(e){if("BUTTON"!=e.target.nodeName)return;q(e.target),d(e.target),L()})),(0,g.StartScrollUp)(),(0,f.startHeader)(),function(){let e=JSON.parse(localStorage.getItem("Favorites")),t=Math.ceil(e.length/12);s({page:1}),e.length>12&&(0,n.createPagination)(t,1,s)}(),L();
//# sourceMappingURL=favorites.3cc6ca52.js.map
