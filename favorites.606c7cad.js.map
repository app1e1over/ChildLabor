{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MACMC,EAAgBC,SAASC,cAAc,mBACvCC,EAAgBF,SAASC,cAAc,mBACvCE,EAAcH,SAASC,cAAc,eAOrCG,GANkBJ,SAASC,cAAc,iBAM/B,IAAMJ,EAAAQ,QAAMC,IAAI,2DAwBM,SAA7BC,EAASC,GAEd,MAAO,iCACmBA,EAAKC,uBACnBD,EAAKE,iBAAiBF,EAAKG,mEAEjCH,EAAKI,sBACNJ,EAAKK,mFAEuCL,EAAKC,yC,CAhC1DL,IAAUU,MACN,EAACC,KAAEA,MACCC,QAAQC,IAAIF,GAQyB,SAAnBA,GACtB,MAEMG,EAFWH,EAAKI,QAEEC,KAAIZ,GAAQD,EAASC,KAAOa,KAAK,IAEzDlB,EAAYmB,UAAYJ,C,CAZpBK,CAAiBR,GACjBS,gBAAkBT,EAAKI,OAAO,IAEpCM,MAAMT,QAAQU,MAgDC,IAAbC,EAAiB,GAGrB3B,SAAS4B,iBAAiB,SAAUC,IAEpC,GADIb,QAAQC,IAAIY,EAAMC,QAClBD,EAAMC,OAAOC,UAAUC,SAAS,gBAAiB,CACjDhB,QAAQC,IAAI,WACZD,QAAQC,IAAIY,EAAMC,OAAOG,YACzBjB,QAAQC,IAAIY,EAAMC,OAAOI,IACzB,MAAMC,EAAQN,EAAMC,OAAOI,GAE3B9B,IAAUU,MACV,EAACC,KAAEA,MACCC,QAAQC,IAAIF,EAAKI,SACjB,MAAMiB,EAAYrB,EAAKI,QAAQkB,MAAKC,GAAUA,EAAO7B,MAAQ0B,IAC7DnB,QAAQC,IAAImB,GACZT,EAAeY,KAAKH,GACpBpB,QAAQC,IAAIU,GACZa,aAAaC,QAnFL,YAmFsBC,KAAKC,UAAUhB,GAAgB,IAE/DF,MAAMT,QAAQU,K,MAkBb,WACH,IAAIkB,EAAeF,KAAKG,MAAML,aAAaM,QAxG/B,cA2GZ,GAFA9B,QAAQC,IAAI2B,IAEPA,EAAaG,OAEd,YADA7C,EAAc6B,UAAUiB,OAAO,aAInC,MAAMC,EAAoBL,EAAaM,QACnCC,GAbiB,SAaPA,EAAOC,WAErBpC,QAAQC,IAAIgC,GAMhB,SAAyBlC,GACrB,MAAMG,EAASH,EAAKK,KAAIZ,GAAQD,EAASC,KAAOa,KAAK,IACrDtB,EAAcuB,UAAYJ,C,CAN1BmC,CAAgBJ,E,CASpBK,G,kBC7HA,E,WAAAC,kBACA,EAAAC,EAAAC","sources":["src/partials/Favorites/Favorites.js","src/favorites.js"],"sourcesContent":["import axios from \"axios\";\n//import img from \"./Favorites-img\"\n\nconst FAV_KEY = 'Favorites';\nconst favoritesList = document.querySelector('.favorites-list');\nconst favoritesPlug = document.querySelector('.favorites-plug');\nconst favTestElem = document.querySelector('.test-cards');\nconst heartButtonElem = document.querySelector('.heart-button');\n\n\n//ПОТІМ ВИДАЛИТИ - запит на сервер по всіх рецептах\n//і заповнення тестової розмітки, щоб побачити кнопку сердечко\n\nconst getData = () => axios.get(`https://tasty-treats-backend.p.goit.global/api/recipes`);\ngetData().then(\n    ({ data }) => {\n        console.log(data);\n        renderRecipeCard(data);\n        allRecipesArray = data.results;\n}\n).catch(console.warn);\n\n\n//ПОТІМ ВИДАЛИТИ - імітація - рендер розмітки всіх карток \nfunction renderRecipeCard(data) {\n    const cardsArr = data.results;\n\n    const markup = cardsArr.map(card => DrowCard(card)).join('');\n\n    favTestElem.innerHTML = markup;\n\n    //localStorage.setItem(FAV_KEY, JSON.stringify(cardsArr));\n}\n\n\n\n//ПОТІМ ВИДАЛИТИ - рендер розмітки одної картки\nfunction DrowCard(card) {\n\n    return `\n<div class=\"recipe-card\" id=${card._id}>\n    <img src=\"${card.preview}\" alt=\"${card.tags}\" loading=\"lazy\" />\n    <div class=\"recipe-info\">\n    <h3>${card.title}</h3>\n    <p>${card.description}</p>\n    </div>\n    <button type=\"button\" class=\"heart-button\" id=\"${card._id}\">press heart</button>\n</div>\n    `\n}\n\n//ПОТІМ ВИДАЛИТИ - метод addToFavorites, який додає в обрані:\n// 1. додає рецепт в ЛС (пушить в масив);\n// 2. міняє колір сердечка;\n// 3. не викликає UpdateFavorites, а DrowCard, <> insertAdjasentHTML(beforeend, newCard)\n// function addToFavorites() {\n//     heartButtonElem.classList.add('is-favorite');\n\n//     const selectadRecipe = heartButtonElem.parentNode;\n//     console.log(selectadRecipe);\n// }\n\n//ПОТІМ ВИДАЛИТИ - метод removeFromFavorites, який видаляє з обраних:\n// 1. видаляє рецепт з ЛС;\n// 2. міняє колір сердечка;\n// 3. викликає UpdateFavorites\n\n// СЛУХАЧ ДЛЯ СЕРДЕЧОК\nlet favoritesArray = [] || JSON.parse(localStorage.getItem(FAV_KEY));\n//localStorage.setItem(FAV_KEY, JSON.stringify(favoritesArray));\n\ndocument.addEventListener('click', (event) => {\n    console.log(event.target);\nif (event.target.classList.contains(\"heart-button\")) { // якщо є клас...\n    console.log('you win');\n    console.log(event.target.parentNode);\n    console.log(event.target.id);\n    const favId = event.target.id;\n\n    getData().then(\n    ({ data }) => {\n        console.log(data.results);\n        const favRecipe = data.results.find(result => result._id === favId);\n        console.log(favRecipe);\n        favoritesArray.push(favRecipe);\n        console.log(favoritesArray);\n        localStorage.setItem(FAV_KEY, JSON.stringify(favoritesArray));\n    }\n    ).catch(console.warn);\n    \n    } \n})\n\n//localStorage.removeItem(FAV_KEY);\n\n\n// функція UpdateFavorites():\n// 1. бере інф з ЛС, де зберіг. [ { }-ів ] з рецептами за кл. сл. 'Favorites'\n// 1.1. якщо ЛС пустий: рендер заглушки, ретьорн\n// 2. filter, для кожного рецепта виклик DrowCard\n// 3. innerHTML = renderedCards\n\n\nconst selectedCategory = 'Beef';\n\n// ВИКЛИКАЄТЬСЯ ПРИ СТАРТІ\nexport function UpdateFavorites() {\n    let favoritesArr = JSON.parse(localStorage.getItem(FAV_KEY));\n    console.log(favoritesArr);\n\n    if (!favoritesArr.length) {\n        favoritesPlug.classList.remove('is-hidden');\n        return;\n    }\n\n    const filteredFavorites = favoritesArr.filter(\n        recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredFavorites);\n\n    renderFavorites(filteredFavorites);\n}\n\n//рендер розмітки всіх улюблених рецептів \nfunction renderFavorites(data) {\n    const markup = data.map(card => DrowCard(card)).join('');\n    favoritesList.innerHTML = markup;\n}\n\nUpdateFavorites();","import {UpdateFavorites} from \"./partials/Favorites/Favorites.js\";\nimport { startHeader } from \"./partials/Header/Header.js\";\nimport { StartScrollUp } from \"./partials/ScrollUp/ScrollUp.js\";\n\nStartScrollUp();\nstartHeader();"],"names":["$2shzp","parcelRequire","$7b694fab0baf01ba$var$favoritesList","document","querySelector","$7b694fab0baf01ba$var$favoritesPlug","$7b694fab0baf01ba$var$favTestElem","$7b694fab0baf01ba$var$getData","default","get","$7b694fab0baf01ba$var$DrowCard","card","_id","preview","tags","title","description","then","data","console","log","markup","results","map","join","innerHTML","$7b694fab0baf01ba$var$renderRecipeCard","allRecipesArray","catch","warn","$7b694fab0baf01ba$var$favoritesArray","addEventListener","event","target","classList","contains","parentNode","id","favId","favRecipe","find","result","push","localStorage","setItem","JSON","stringify","favoritesArr","parse","getItem","length","remove","filteredFavorites","filter","recipe","category","$7b694fab0baf01ba$var$renderFavorites","$7b694fab0baf01ba$export$5312ec80869db145","StartScrollUp","$13v5H","startHeader"],"version":3,"file":"favorites.606c7cad.js.map"}