!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequirec149;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequirec149=n);var o=n("3gRQg"),a=n("7foJP"),i="Favorites",c=document.querySelector(".favorites-list"),l=document.querySelector(".favorites-plug"),s=(document.querySelector(".test-cards"),document.querySelector(".fav-picture-thumb"));function d(e){var t=e.page;c.innerHTML="",l.classList.add("is-hidden"),s.classList.remove("is-hidden");var r=JSON.parse(localStorage.getItem(i));if(!r.length)return l.classList.remove("is-hidden"),void(window.matchMedia("(max-width: 767px)").matches&&s.classList.add("is-hidden"));f(r,12*t-12+1,12*t)}function u(e){c.innerHTML="";var t=e;"All"===t?f(favoritesArr):f(favoritesArr.filter((function(e){return e.category===t})))}function f(e,t,r){for(var n=t;n<=r;n+=1)c.append((0,o.DrawCard)(e[n]))}var g,m=n("hpusp"),p=n("f2GmJ"),v=(document.querySelector(".recipe-container"),document.querySelector(".filters-list")),h=document.querySelector(".favorites-container"),S="Favorites",y=JSON.parse(localStorage.getItem(S))||[];function L(e,t){var r=e.closest(".recipe-card-container").dataset.recipe,n=JSON.parse(localStorage.getItem("id"))||[];e.closest(".heart-button").classList.contains("add")?(document.querySelectorAll(".recipe-card-container").forEach((function(t){n.forEach((function(r){t.dataset.recipe==r&&e.closest(".heart-button").classList.remove("add")}))})),n=n.filter((function(e){return e!=r})),localStorage.setItem("id",JSON.stringify(n)),y=y.filter((function(e){return e._id!=r})),console.log("delete")):(t.forEach((function(o,a){o._id==r&&(y.push(t[a]),n.push(r)),localStorage.setItem("id",JSON.stringify(n)),e.closest(".heart-button").classList.add("add")})),console.log("add"));localStorage.setItem(S,JSON.stringify(y)),b()}function b(){var e=document.querySelectorAll(".recipe-card-container"),t=JSON.parse(localStorage.getItem("id"));t&&e.forEach((function(e){t.forEach((function(t){e.dataset.recipe==t&&e.querySelector(".heart-button").classList.add("add")}))}))}function q(e){return e.map((function(e){return e.category})).filter((function(e,t,r){return r.indexOf(e)===t})).sort().map((function(e){return'<li><button class="filters-btn" type="button" data-id="'.concat(e,'">').concat(e,"</button></li>")})).join("")}g=y,h.addEventListener("click",(function(e){"svg"!=e.target.nodeName&&"path"!=e.target.nodeName||(L(e.target,g),function(){y&&y.length?(v.innerHTML='<li><button class="filters-btn" type="button" data-id="All">All categories</button></li>',q(y),v.insertAdjacentHTML("beforeend",q(y))):v.innerHTML="";var e=localStorage.getItem("btn-active");e&&document.querySelectorAll(".filters-btn").forEach((function(t){t.dataset.id==e&&(u(t),N(t),b())}))}(),y&&y.length||(h.innerHTML=""))}));var E=!1;function N(e){document.querySelectorAll(".filters-btn").forEach((function(e){return e.classList.remove("active")})),e.classList.add("active"),localStorage.setItem("btn-active",e.dataset.recipe)}v.addEventListener("mousemove",(function(e){if(!E)return;v.scrollLeft-=e.movementX})),v.addEventListener("mousedown",(function(){E=!0})),document.addEventListener("mouseup",(function(){E=!1})),v.addEventListener("click",(function(e){if("BUTTON"!=e.target.nodeName)return;N(e.target),u(e.target),b()})),(0,p.StartScrollUp)(),(0,m.startHeader)();try{!function(){var e=JSON.parse(localStorage.getItem(i)),t=Math.ceil(e.length/12);d({page:1}),e.length>12&&(0,a.createPagination)(t,1,d)}()}catch(e){}b()}();
//# sourceMappingURL=favorites.26c90072.js.map
